<LoginScreen>:
    GridLayout:
        cols:1
        GridLayout:
            cols:1
            padding:15,15
            spacing:20,20

            Label:
                text: 'Sign in'
                font_size: 32
                color: 22/255,57/255,109/255
            RelativeLayout:
                TextInput:
                    canvas.after:
                        Color: 
                            rgba: 22/255,57/255,109/255,1
                        Rectangle:
                            pos:self.pos
                            size:(self.width, 1)
                    id: username
                    hint_text: 'Username'
                    size_hint: None, None
                    height:30
                    width: 200
                    background_color: 0,0,0,0  
                    foreground_color: 22/255,57/255,109/255,1
                    pos_hint:{'center_x':0.5, 'center_y':0.4}
            RelativeLayout:
                TextInput:
                    canvas.after:
                        Color: 
                            rgba: 22/255,57/255,109/255,1
                        Rectangle:
                            pos:self.pos
                            size:(self.width, 1)
                    id: password
                    password: True
                    hint_text: 'Password'
                    size_hint:None, None
                    height:30
                    width:200
                    pos_hint:{'center_x':0.5, 'center_y':0.5}
                    background_color: 0,0,0,0  
                    foreground_color: 22/255,57/255,109/255,1
            RelativeLayout:
                Button:
                    text: "Sign in"
                    on_press: root.do_everything(root.ids.username.text, root.ids.password.text)
                    size_hint:0.3,0.5
                    pos_hint:{'center_x':0.5, 'center_y':0.6}
                    background_color: 22/255,57/255,109/255
        GridLayout:
            cols:2
            size_hint:0.2,0.2
            padding:10,10
            spacing:10,0
            Button:
                text:'Forgot Password'
                on_press: root.go_to_forgot_password_screen()
                background_color:1,1,1,0
                color: 22/255,57/255,109/255
            Button:
                background_color:1,1,1,0
                color: 22/255,57/255,109/255
                text: 'Sign up'
                on_press: root.go_to_signup_screen()

<LoginSuccess>:
    GridLayout:
        cols: 1
        RelativeLayout:
            size_hint:0.1,0.1
            GridLayout:
                cols:2
                Button:
                    text:"Log out"
                    on_press: root.logout()
        GridLayout:
            cols:1
            Label:
                text: "Today's tasks:"
            ScrollView:
                GridLayout:
                    text_size: self.width, None
                    size_hint_y: None
                    height: 800
                    cols:1
                    spacing: 20,20
                    id:tasks
            # RelativeLayout:
            #size_hint: 0.1,0.1
            GridLayout:
                cols:1
                Button:
                    size_hint:None,None
                    size:100,44
                    text:"Add tasks"
                    on_press: root.go_to_addPage()
                Button:
                    size_hint:None,None
                    size:100,44
                    text:"Go to date"
                    on_press: root.go_to_datePage()


<DatePage>:
    GridLayout:
        cols:1

        GridLayout:
            cols:2
            size_hint: 0.2,0.2
            RelativeLayout:
                Button:
                    text:"Log out"
                    on_press: root.logout()
                    size_hint:0.2,0.2
                    pos_hint:{"center_x":0.33,"center_y":0.8}
                Button:
                    text:"Home"
                    on_press:root.go_home()
                    size_hint:0.2,0.2
                    pos_hint:{"center_x":0.93, "center_y": 0.8}
        GridLayout:
            cols: 1
            Label:
                text: "Go to date"
        GridLayout:
            cols:2
            Label:
                text: "Date"
            GridLayout:
                cols:4
                Label:
                    text: "Day"
                Button:
                    text:"-"
                    on_press: root.day_minus()
                TextInput:
                    text: ""
                    id: day
                Button:
                    text:"+"
                    on_press: root.day_plus()
                Label:
                    text: "Month"
                Button:
                    text:"-"
                    on_press: root.month_minus()
                TextInput:
                    id: month
                    text: ""
                Button:
                    text:"+"
                    on_press: root.month_plus()
                Label:
                    text: "Year"
                Button:
                    text:"-"
                    on_press: root.year_minus()
                TextInput:
                    id: year
                    text: ""
                Button:
                    text:"+"
                    on_press: root.year_plus()
                    
        
        RelativeLayout:
            size_hint: 0.05,0.05
            GridLayout:
                cols:1
                Button:
                    text: "Submit"
                    on_press: root.go_to_date()
                    size_hint:0.2,0.2
                    pos_hint: {"center_x":0.5, "center_y":0.2}


<AddPage>:
    GridLayout:
        cols:1

        GridLayout:
            cols:2
            size_hint: 0.2,0.2
            RelativeLayout:
                Button:
                    text:"Log out"
                    on_press: root.logout()
                    size_hint:0.2,0.2
                    pos_hint:{"center_x":0.33,"center_y":0.8}
                Button:
                    text:"Home"
                    on_press:root.go_home()
                    size_hint:0.2,0.2
                    pos_hint:{"center_x":0.93, "center_y": 0.8}
        GridLayout:
            cols: 1
            Label:
                text: "Adding Tasks"
        GridLayout:
            cols:2
            Label:
                text: "Task name"
            TextInput:
                id: task
            Label:
                text: "Date"
            GridLayout:
                cols:4
                Label:
                    text: "Day"
                Button:
                    text:"-"
                    on_press: root.day_minus()
                TextInput:
                    text: ""
                    id: day
                Button:
                    text:"+"
                    on_press: root.day_plus()
                Label:
                    text: "Month"
                Button:
                    text:"-"
                    on_press: root.month_minus()
                TextInput:
                    id: month
                    text: ""
                Button:
                    text:"+"
                    on_press: root.month_plus()
                Label:
                    text: "Year"
                Button:
                    text:"-"
                    on_press: root.year_minus()
                TextInput:
                    id: year
                    text: ""
                Button:
                    text:"+"
                    on_press: root.year_plus()
                    
            Label:
                text: "Time"
            GridLayout:
                cols:3
                Button:
                    text:"-"
                    on_press: root.hour_minus()
                TextInput:
                    id: hour
                    text: "00"
                Button:
                    text:"+"
                    on_press: root.hour_plus()
                Button:
                    text:"-"
                    on_press: root.minute_minus()
                TextInput:
                    id: minute
                    text: "00"
                Button:
                    text:"+"
                    on_press: root.minute_plus()
        RelativeLayout:
            size_hint: 0.05,0.05
            GridLayout:
                cols:1
                Button:
                    text: "Submit"
                    on_press: root.add_task()
                    size_hint:0.2,0.2
                    pos_hint: {"center_x":0.5, "center_y":0.2}

<SignUpScreen>:
    GridLayout:
        cols:1
        padding:15,15
        spacing:20,20
        Button:
            text:"Back"
            on_press: root.go_to_login_page()
            size_hint:None,None
            width: 100
            height:44
            background_color:22/255,57/255,109/255
        Label:
            text: "Sign up"
            color: 22/255,57/255,109/255
            font_size:32
        TextInput:
            id: username
            hint_text: 'Username'
        TextInput:
            id: email
            hint_text: "Email"
        TextInput:
            id: password
            hint_text: 'Password'
            password: True
        TextInput:
            id: retyped_password
            hint_text: 'Retype Password'
            password: True
        RelativeLayout:
            Button:
                text: "Sign up"
                on_press: root.add_user(root.ids.username.text, root.ids.email.text,root.ids.password.text, root.ids.retyped_password.text)
                background_color: 22/255,57/255,109/255
                size_hint:0.4,0.6
                pos_hint:{'center_x':0.5, 'center_y':0.6}
<SignUpSuccess>:
    GridLayout:
        cols:1
        Label:
            text: "Signed up successfully"
        Button:
            text: 'go to login page'
            on_press: root.switch_to_login_page()


        
<ForgotPasswordScreen>:
    GridLayout:
        cols:1
        padding:15,15
        spacing:20,20
        Label:
            text: "Change Password"
            color: 22/255,57/255,109/255
            font_size:32

        TextInput:
            id: username
            hint_text: "Username"
        TextInput:
            id: password
            hint_text: "Password"
            password: True
        TextInput:
            id: retyped_password
            hint_text: "Retype Password"
            password: True
        RelativeLayout:
            Button:
                text: "Submit"
                on_press: root.change_password(root.ids.username.text, root.ids.password.text, root.ids.retyped_password.text)
                background_color: 22/255,57/255,109/255
                size_hint:0.4,0.6
                pos_hint:{'center_x':0.5, 'center_y':0.6}
<PasswordChangedSuccess>:
    GridLayout:
        cols:1
        Label:
            text: "password changed successfully!"
        Button:
            text: "go to login page"
            on_press: root.go_to_login_page()
        

<RootWidget>:
    canvas.before:
        Color:
            rgba:152/255,172/255,222/255,1
        Rectangle:
            pos:self.pos
            size:self.size
    LoginScreen:
        name: 'login_screen'
    LoginSuccess:
        name: 'login_success'
    SignUpScreen:
        name: 'sign_up_screen'
    SignUpSuccess:
        name: 'sign_up_success'
    ForgotPasswordScreen:
        name: 'forgot_password_screen'
    PasswordChangedSuccess:
        name: 'password_changed_success'
    AddPage:
        name: 'add_page'
    DatePage:
        name: 'date_page'
    